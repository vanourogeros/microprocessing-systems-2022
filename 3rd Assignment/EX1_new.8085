	IN 10H
START:
	MVI A,10H	;fix display
	STA 08D8H 
	STA 08D9H 
	STA 08DAH
	STA 08DBH
	STA 08DCH
	STA 08DDH
	
	MVI A,0DH	;initialize interrupt
	SIM
	EI

WAIT:	
	PUSH D
	CALL DCD	;keep display on
	POP D
	EI
	JMP WAIT	;get new input


INTR_ROUTINE:
	PUSH D
	EI
	MVI C,45H	;INITIALIZE TO 45 SEC
	
CONTINUE:
	MOV A,C
	EI
	ANI F0H
	RRC 
	RRC
	RRC
	RRC
	STA 08DDH
	MOV A,C
	
	ANI 0FH
	STA 08DCH
DISPLAY:
	LXI D,08D8H
	CALL STDM	;show display
	CALL DCD

	ANI 0FH
	CPI 00H
	MOV A,C
	ANI F0H
	JZ ZEROS
LATER:
	MOV A,C
	DCR C
	MOV A,C
	CPI 00H
	JZ START	

	MVI A,FFH
	STA 3000H
	MVI B,03H	;initialize DELB

	CALL DELB
	
	MVI A,00H
	STA 3000H
	CALL DELB
	MOV A,C
	JNZ CONTINUE
	EI
	RET

ZEROS:		;check if last counter digit is zero
	DCR A
	STA 08DDH
	MVI A,09H
	STA 08DCH

	JMP DISPLAY

END